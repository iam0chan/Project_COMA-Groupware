<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="reply">
	<resultMap type="reply" id="replyMap">
		<id column="REPLY_NO" property="replyNo"/>
		<result column="REPLY_CONTENT" property="replyContent"/>
		<result column="REPLY_DATE" property="replyDate"/>
		<result column="REPLY_PARENT_NO" property="replyParentNo"/>
		<association resultMap="board.boardMap" property="board"/>
	</resultMap>
	
	
	<select id="selectReplyByBoard" resultMap="replyMap" parameterType="_int">
		SELECT *
		FROM REPLY
		JOIN BOARD USING(BOARD_NO)
		JOIN EMP USING(EMP_ID)
		WHERE BOARD_NO=#{boardNo}
	</select>
	

	<insert id="insertReplyByBoard" parameterType="map">
		INSERT INTO REPLY
		VALUES(SEQ_RE_NO.NEXTVAL,#{boardNo},#{replyContent},SYSDATE,NULL,1)
	</insert>
	
</mapper>